<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="referrer" content="no-referrer" />
<title>你要下班了！</title>
<link rel="stylesheet" type="text/css" href="./static/css/bootstrap.min.css" />
<style type="text/css">
    :root {
        --background-image: #000;
    }
	#clock {
		font: bold 24pt sans;
		background-color: #f5f5f5;
		padding: 10px 15px;
		border: 1px solid #ccc;
		border-radius: 5px;
	}
	#todaydatetime {
		font: bold 24pt sans;
		background-color: #f5f5f5;
		padding: 10px 15px;
		border: 1px solid #ccc;
		border-radius: 5px;
	}
	.demo {
		margin:0,auto;
	}
	div.example{
		width:8%;
		margin:0 auto;
		padding:5px;
		border:1px solid #d4d4d4;
	}
    table {
        text-align: center;
    }
    #background {
        background-size: cover;
        background-image: var(--background-image);
    }
    #totop{
        text-align:center;
        line-height:50px;
        font-size:25px;
        display: block;
        width:50px;
        height:50px;
        position: fixed;
        top:50px;
        right: 50px;
        border-radius: 10px;
    }
    .justify-content-center {
        padding-top: 10px;
    }
</style>
<script src="./static/js/jquery.min.js"></script>
<script src="./static/js/bootstrap.min.js"></script>
<script>
    // 返回顶部按钮
    $(function () {
        $(window).scroll(function () {
            if($(this).scrollTop()<200){
                $("#totop").fadeOut();
            }else{
                $("#totop").fadeIn();
            }
        });
        $("#totop").hover(function () {
            $(this).html("🔝");
        }, function () {
            $(this).html('🔝');
        })
        .on('click', function () {
            $('html,body').animate({scrollTop:0},'fast');
            return false;
        })
    })
</script>
<script>
    function saveOpenedPlatform(platform) {
        sessionStorage.setItem("opened_platform", platform);
    }

    function isExpire(platform) {
        const timestamp = new Date().getTime();
        const target = localStorage.getItem(`${platform}_expire`);
        if (target === undefined || target === null || timestamp > target) {
            localStorage.removeItem(`${platform}_expire`);
            localStorage.removeItem(platform);
            return true;
        }
        return false;
    }

    function parseHotData(data, platform) {
        if (platform === '哔哩哔哩') {
            parseImageArticlesRows(data, 'bilibili');
        }
        if (platform === '百度') {
            parseImageArticlesRows1(data, 'baidu');
        }
        if (platform === '百度贴吧') {
            parseImageArticlesRows1(data, 'tieba');
        }
        if (platform === '稀土掘金') {
            parseArticlesRows(data, 'juejin');
        }
        if (platform === '知乎') {
            parseImageArticlesRows1(data, 'zhihu');
        }
        if (platform === 'IT之家') {
            parseArticlesRows(data, 'ithome');
        }
        if (platform === '澎湃新闻') {
            parseImageArticlesRows2(data, 'thepaper');
        }
        if (platform === '今日头条') {
            parseImageArticlesRows2(data, 'toutiao');
        }
        if (platform === '微博热搜') {
            parseArticlesRows1(data, 'weibo');
        }
        if (platform === '腾讯新闻') {
            parseArticlesRows1(data, 'txnews');
        }
        return ;
    }
</script>
<script>
    /*
     * 请求第三方接口相关代码 
    */

    function requestGet(url, op) {
        const xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4 && xhr.status === 200) {
                const result = JSON.parse(xhr.responseText);
                op(result);
            }
        };
        xhr.open('GET', url, true);
        xhr.send();
    }

    function getWeather() {
        var cookies = document.cookie.split(";");
        var cookies = cookies[0].split(",")

        const appid = cookies[0].split("=")[1];
        const appsecret = cookies[1].split("=")[1];

        const url = 'http://v1.yiketianqi.com/free/day?appid=' + appid + '&appsecret=' + appsecret + '&unescape=1';

        requestGet(url, function (result) {
            const timestamp = new Date().getTime();
            localStorage.setItem("weather", JSON.stringify(result));
            localStorage.setItem("weather_expire", timestamp + 1000 * 60 * 60);
            parseWeather(result);
        })
    }

    function loadAudio() {
        const url = 'https://api.uomg.com/api/rand.music?sort=热歌榜&format=json';
        requestGet(url, function (result) {
            const audioName = result.data.name;
            const artist = result.data.artistsname;
            document.getElementById("audio").src = result.data.url;
            document.getElementById("audio_img").src = result.data.picurl;
            document.getElementById("audio_info").innerText = `听个歌吧：${audioName} - ${artist}`;
        })
    }

    function requestHotList(platform) {
        saveOpenedPlatform(platform);

        if (!isExpire(platform)) {
            const result = localStorage.getItem(platform);
            const data = JSON.parse(result);
            parseHotData(data, platform);
            return ;
        }

        const url = `https://api.pearktrue.cn/api/dailyhot/?title=${platform}`;
        requestGet(url, function (result) {
            const timestamp = new Date().getTime();
            localStorage.setItem(platform, JSON.stringify(result));
            localStorage.setItem(`${platform}_expire`, timestamp + 1000 * 60 * 60);
            parseHotData(result, platform);
        })
    }
</script>
<script>
    function autoLoadHotList(platform) {
        if (!isExpire(platform)) {
            return ;
        }

        const url = `https://api.pearktrue.cn/api/dailyhot/?title=${platform}`;
        requestGet(url, function (result) {
            const timestamp = new Date().getTime();
            localStorage.setItem(platform, JSON.stringify(result));
            localStorage.setItem(`${platform}_expire`, timestamp + 1000 * 60 * 60);
        })
    }
    autoLoadHotList('稀土掘金');
    autoLoadHotList('哔哩哔哩');
    autoLoadHotList('微博热搜');
    autoLoadHotList('知乎');
    autoLoadHotList('百度');
    autoLoadHotList('腾讯新闻');
    autoLoadHotList('百度贴吧');
    autoLoadHotList('IT之家');
    autoLoadHotList('澎湃新闻');
    autoLoadHotList('今日头条');
</script>
</head>
<body id="background">
	<div class="container">
		<div class="row">
			<div class="demo col-sm-12">
				<center>
					<h1 class=" alert alert-success">又是忙碌的一天，请按时下班~~</h1>
				</center>

				<center>
					<div class=" alert alert-success">
						<span id="todaydatetime"></span>
					</div>
					<div class=" alert alert-danger">
						<span id="clock"></span>
					</div>
                    <a href="javascript:void(0);" onclick="setTime()">自定义下班时间</a>
				</center>
			</div>
			<div>
				<script>
					var H='....';
					var H=H.split('');
					var M='.....';
					var M=M.split('');
					var S='......';
					var S=S.split('');
					var Ypos=0;
					var Xpos=0;
					var Ybase=8;
					var Xbase=8;
					var dots=12;

					function clock(){
                        var time=new Date ();
                        var secs=time.getSeconds();
                        var sec=-1.57 + Math.PI * secs/30;
                        var mins=time.getMinutes();
                        var min=-1.57 + Math.PI * mins/30;
                        var hr=time.getHours();
                        var hrs=-1.57 + Math.PI * hr/6 + Math.PI*parseInt(time.getMinutes())/360;
                        
                        setTimeout('clock()',50);
					}
					window.onload=clock;
				</script>

				<script>
                    var saved = localStorage.getItem("hourtime");
                    if (saved == null) {
                        var hourtime = "18:00:00";
                    } else {
                        var hourtime = saved;
                    }
					
					var weeks = new Array("周日", "周一", "周二", "周三", "周四", "周五", "周六");
					var holidays = {
                        "除夕": get_day("2024/02/09"),
                        "过年": [get_time("2024/02/10 00:00:00"), get_time("2024/02/17 23:59:59")],
                        "清明节": [get_time("2024/04/04 00:00:00"), get_time("2024/04/06 23:59:59")],
						"劳动节": [get_time("2024/05/01 00:00:00"), get_time("2021/05/05 23:59:59")],
						"端午节": [get_time("2024/06/08 00:00:00"), get_time("2024/06/10 23:59:59")],
						"中秋节": [get_time("2024/09/14 00:00:00"), get_time("2024/09/17 23:59:59")],
						"国庆节": [get_time("2024/10/01 00:00:00"), get_time("2021/10/07 23:59:59")],
					};
					var holiday = null;

                    function get_time(a) {
                        return new Date(a).getTime() / 1000;
                    }

					function get_day(a) {
						return [new Date(a + " 00:00:00").getTime() / 1000, new Date(a + " 23:59:59").getTime() / 1000]
					}

					function displayTime() {
						var elt = document.getElementById("clock");
						var elt2 = document.getElementById("todaydatetime");
						if(leftTime < 0) {
							elt.innerHTML = "Over";
						} else {
							var endTime =new Date(new Date().toLocaleDateString()+" "+hourtime);
							var now = new Date();
							
							var day = now.getDay();
							var nowTimestamp = new Date().getTime() / 1000;
							for(var key in holidays){
								if (nowTimestamp > holidays[key][0] && nowTimestamp < holidays[key][1]) {
									holiday = key;
								}
							}

							var nowYear=now.getFullYear();
							var nowMonth=now.getMonth()+1;
							var nowDay=now.getDate();

							var leftTime = endTime.getTime() - now.getTime();
							var ms = parseInt(leftTime % 1000).toString();
							leftTime = parseInt(leftTime / 1000);
							var o = Math.floor(leftTime / 3600);
							var d = Math.floor(o / 24);
							var m = Math.floor(leftTime / 60 % 60);
							var s = leftTime % 60;

							elt2.innerHTML = nowYear + " 年 " + nowMonth + " 月 " + nowDay + " 日 ";
							if (holiday != null){
								elt.innerHTML = "不是吧阿Sir？" + holiday + "还上班？";
							} else if ( day == 6 || day == 0){
								elt.innerHTML = "不是吧阿Sir？" + weeks[day] + "还上班？";
							} else if ((o<0&&m<0&&s<0)){
								elt.innerHTML = "你已经下班了，为什么还不回家？";
							} else {
								elt.innerHTML = o + "小时:" + m + "分:" + s + "秒:" + ms.charAt(0);
							}
							setTimeout(displayTime, 100);
						}
					}
					displayTime();

                    function setTime() {
                        var curr = localStorage.getItem("hourtime");
                        if (curr == null) {
                            curr = "18:00:00";
                        }
                        var value = prompt("设置下班时间，格式参考：18:00:00", curr);
                        if (value != null) {
                            localStorage.setItem("hourtime", value);
                            location.reload();
                        }
                    }
				</script>
			</div>
            <table class="table table-condensed">
                <thead>
                    <tr>
                        <th>更新时间</th>
                        <th>所在城市</th>
                        <th>湿度</th>
                        <th>空气质量</th>
                        <th>天气</th>
                        <th>温度</th>
                        <th>最高温度</th>
                        <th>最低温度</th>
                        <th>风向</th>
                        <th>风力</th>
                        <th>风速</th>
                        <th>气压</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="update_time"></td>
                        <td id="city"></td>
                        <td id="humidity"></td>
                        <td id="air"></td>
                        <td id="wea"></td>
                        <td id="tem"></td>
                        <td id="tem_day"></td>
                        <td id="tem_night"></td>
                        <td id="win"></td>
                        <td id="win_speed"></td>
                        <td id="win_meter"></td>
                        <td id="pressure"></td>
                    </tr>
                </tbody>
                <script>
                    function parseWeather(result) {
                        const backgroundElement = document.querySelector("html");
                        // backgroundElement.style.setProperty("--background-image", "url('./static/imgs/" + result.wea_img + ".jpg')");
                        document.getElementById("update_time").innerHTML = result.update_time;
                        document.getElementById("city").innerHTML = result.city;
                        document.getElementById("humidity").innerHTML = result.humidity;
                        document.getElementById("air").innerHTML = result.air;
                        document.getElementById("wea").innerHTML = result.wea;
                        document.getElementById("tem").innerHTML = result.tem;
                        document.getElementById("tem_day").innerHTML = result.tem_day;
                        document.getElementById("tem_night").innerHTML = result.tem_night;
                        document.getElementById("win").innerHTML = result.win;
                        document.getElementById("win_speed").innerHTML = result.win_speed;
                        document.getElementById("win_meter").innerHTML = result.win_meter;
                        document.getElementById("pressure").innerHTML = result.pressure;
                    }
                
                    
                
                    var weather_expire = localStorage.getItem("weather_expire");
                    var now = new Date().getTime();
                    if (weather_expire === undefined || weather_expire === null || weather_expire < now) {
                        localStorage.removeItem("weather");
                    }
                
                    var weather = localStorage.getItem("weather");
                    if (weather != null) {
                        var result = JSON.parse(weather);
                        parseWeather(result);
                    } else {
                        getWeather();
                    }
                </script>
            </table>
            <div id="audio_player" class="col-sm-12">
                <img id="audio_img" class="col-sm-2" style="float: left;" />
                <div class="card" class="col-sm-10" style="float: left;">
                    <div id="audio_info">

                    </div>
                    <button class="btn btn-success btn-sm" onclick="reloadAudio()">换一首听</button>
                    <div class="card-body">
                        <audio id="audio" src="" onended="reloadAudio()" controls autoplay></audio>
                    </div>
                </div>
                <script>
                    loadAudio();
                    
                    function reloadAudio() {
                        loadAudio();
                        document.getElementById("audio").play();
                    }
                </script>
            </div>
            <div id="hot" class="card col-sm-12" style="padding-top: 10px;">
                <ul class="nav nav-tabs" id="myTab" role="tablist" style="padding-top: 10px;">
                    <li class="nav-item active" role="presentation">
                        <button class="nav-link" id="juejin-tab" data-toggle="tab" data-target="#juejin" type="button" role="tab" aria-controls="juejin" onclick="requestHotList('稀土掘金')" aria-selected="true">
                          稀土掘金热榜
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="bilibili-tab" data-toggle="tab" data-target="#bilibili" type="button" role="tab" aria-controls="bilibili" onclick="requestHotList('哔哩哔哩')" aria-selected="false">
                            B站热搜
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="weibo-tab" data-toggle="tab" data-target="#weibo" type="button" role="tab" aria-controls="weibo" onclick="requestHotList('微博热搜')" aria-selected="false">
                            微博热搜
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="zhihu-tab" data-toggle="tab" data-target="#zhihu" type="button" role="tab" aria-controls="zhihu" onclick="requestHotList('知乎')" aria-selected="false">
                            知乎热搜
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="baidu-tab" data-toggle="tab" data-target="#baidu" type="button" role="tab" aria-controls="baidu" onclick="requestHotList('百度')" aria-selected="false">
                          百度热搜
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="txnews-tab" data-toggle="tab" data-target="#txnews" type="button" role="tab" aria-controls="txnews" onclick="requestHotList('腾讯新闻')" aria-selected="false">
                          腾讯新闻热榜
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="tieba-tab" data-toggle="tab" data-target="#tieba" type="button" role="tab" aria-controls="tieba" onclick="requestHotList('百度贴吧')" aria-selected="false">
                          贴吧热搜
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="ithome-tab" data-toggle="tab" data-target="#ithome" type="button" role="tab" aria-controls="ithome" onclick="requestHotList('IT之家')" aria-selected="false">
                          IT之家热榜
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="thepaper-tab" data-toggle="tab" data-target="#thepaper" type="button" role="tab" aria-controls="thepaper" onclick="requestHotList('澎湃新闻')" aria-selected="false">
                          澎湃新闻热榜
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="toutiao-tab" data-toggle="tab" data-target="#toutiao" type="button" role="tab" aria-controls="toutiao" onclick="requestHotList('今日头条')" aria-selected="false">
                          今日头条热榜
                        </button>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="juejin" role="tabpanel" aria-labelledby="juejin-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="bilibili" role="tabpanel" aria-labelledby="bilibili-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="weibo" role="tabpanel" aria-labelledby="weibo-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="zhihu" role="tabpanel" aria-labelledby="zhihu-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="baidu" role="tabpanel" aria-labelledby="baidu-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="douyin" role="tabpanel" aria-labelledby="douyin-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="doubannew" role="tabpanel" aria-labelledby="doubannew-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="tieba" role="tabpanel" aria-labelledby="tieba-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="sspai" role="tabpanel" aria-labelledby="sspai-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="ithome" role="tabpanel" aria-labelledby="sspai-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="thepaper" role="tabpanel" aria-labelledby="sspai-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="toutiao" role="tabpanel" aria-labelledby="toutiao-tab">
                        
                    </div>
                    <div class="tab-pane fade show" id="txnews" role="tabpanel" aria-labelledby="txnews-tab">
                        
                    </div>
                </div>
                <script>
                    function parseArticlesRows(result, tag) {
                        document.getElementById(tag).innerHTML = "";
                        const data = result.data;
                        for (var i = 0; i < data.length; i ++) {
                            var title = data[i].title;
                            var url = data[i].url;
                            var hot = data[i].hot;

                            var card = document.createElement("div");
                            card.className = "card";

                            var row = document.createElement("div");
                            row.className = "row no-gutters";
                            
                            var bodyDiv = document.createElement("div");
                            bodyDiv.className = "col-md-10";

                            var cardBody = document.createElement("div");
                            cardBody.className = "card-body";

                            var cardTitle = document.createElement("h5");
                            cardTitle.className = "card-title";

                            var cardLink = document.createElement("a");
                            cardLink.href = url;
                            cardLink.target = "_blank";
                            cardLink.innerText = `#${i + 1}： ${title}`
                            cardTitle.appendChild(cardLink);

                            var cardDescription = document.createElement("div");
                            cardDescription.className = "card-text";
                            cardDescription.innerText = `当前热度：${hot}`;

                            cardBody.appendChild(cardTitle);
                            cardBody.appendChild(cardDescription);
                            bodyDiv.appendChild(cardBody);
                            row.appendChild(bodyDiv);
                            card.appendChild(row);

                            document.getElementById(tag).appendChild(card);
                        }
                    }

                    function parseArticlesRows1(result, tag) {
                        document.getElementById(tag).innerHTML = "";
                        const data = result.data;
                        for (var i = 0; i < data.length; i ++) {
                            var title = data[i].title;
                            var url = data[i].url;
                            var hot = data[i].hot;
                            var desc =  data[i].desc;

                            var card = document.createElement("div");
                            card.className = "card";

                            var row = document.createElement("div");
                            row.className = "row no-gutters";
                            
                            var bodyDiv = document.createElement("div");
                            bodyDiv.className = "col-md-10";

                            var cardBody = document.createElement("div");
                            cardBody.className = "card-body";

                            var cardTitle = document.createElement("h5");
                            cardTitle.className = "card-title";

                            var cardLink = document.createElement("a");
                            cardLink.href = url;
                            cardLink.target = "_blank";
                            cardLink.innerText = `#${i + 1}： ${title}`
                            cardTitle.appendChild(cardLink);

                            var cardDescription = document.createElement("div");
                            cardDescription.className = "card-text";
                            cardDescription.innerText = `${desc} - 当前热度：${hot}`;

                            cardBody.appendChild(cardTitle);
                            cardBody.appendChild(cardDescription);
                            bodyDiv.appendChild(cardBody);
                            row.appendChild(bodyDiv);
                            card.appendChild(row);

                            document.getElementById(tag).appendChild(card);
                        }
                    }

                    function parseImageArticlesRows(result, tag) {
                        document.getElementById(tag).innerHTML = "";
                        const data = result.data;
                        for (var i = 0; i < data.length; i ++) {
                            var title = data[i].title;
                            var desc = data[i].desc;
                            var pic = data[i].pic;
                            var owner = data[i].owner.name;
                            var ownerUrl = data[i].owner.url;
                            var url = data[i].mobileUrl;
                            var hot = data[i].hot;

                            var card = document.createElement("div");
                            card.className = "card";

                            var row = document.createElement("div");
                            row.className = "row no-gutters";

                            var imgDiv = document.createElement("div");
                            imgDiv.className = "col-md-2 justify-content-center";

                            var img = document.createElement("img");
                            img.src = pic;
                            img.className = "col-md-12";
                            imgDiv.appendChild(img);
                            row.appendChild(imgDiv);
                            
                            var bodyDiv = document.createElement("div");
                            bodyDiv.className = "col-md-10";

                            var cardBody = document.createElement("div");
                            cardBody.className = "card-body";

                            var cardTitle = document.createElement("h5");
                            cardTitle.className = "card-title";

                            var cardLink = document.createElement("a");
                            cardLink.href = url;
                            cardLink.target = "_blank";
                            cardLink.innerText = `#${i + 1}： ${title} - ${owner}`
                            cardTitle.appendChild(cardLink);

                            var cardDescription = document.createElement("div");
                            cardDescription.className = "card-text";
                            cardDescription.innerText = `${desc} - 当前热度：${hot}`;

                            cardBody.appendChild(cardTitle);
                            cardBody.appendChild(cardDescription);
                            bodyDiv.appendChild(cardBody);
                            row.appendChild(bodyDiv);
                            card.appendChild(row);

                            document.getElementById(tag).appendChild(card);
                        }
                    }

                    function parseImageArticlesRows1(result, tag) {
                        document.getElementById(tag).innerHTML = "";
                        const data = result.data;
                        for (var i = 0; i < data.length; i ++) {
                            var title = data[i].title;
                            var desc = data[i].desc;
                            var pic = data[i].pic;
                            var url = data[i].mobileUrl;
                            var hot = data[i].hot;

                            var card = document.createElement("div");
                            card.className = "card";

                            var row = document.createElement("div");
                            row.className = "row no-gutters";

                            var imgDiv = document.createElement("div");
                            imgDiv.className = "col-md-2 justify-content-center";

                            var img = document.createElement("img");
                            img.src = pic;
                            img.className = "col-md-12";
                            imgDiv.appendChild(img);
                            row.appendChild(imgDiv);
                            
                            var bodyDiv = document.createElement("div");
                            bodyDiv.className = "col-md-10";

                            var cardBody = document.createElement("div");
                            cardBody.className = "card-body";

                            var cardTitle = document.createElement("h5");
                            cardTitle.className = "card-title";

                            var cardLink = document.createElement("a");
                            cardLink.href = url;
                            cardLink.target = "_blank";
                            cardLink.innerText = `#${i + 1}： ${title}`
                            cardTitle.appendChild(cardLink);

                            var cardDescription = document.createElement("div");
                            cardDescription.className = "card-text";
                            cardDescription.innerText = `${desc} - 当前热度：${hot}`;

                            cardBody.appendChild(cardTitle);
                            cardBody.appendChild(cardDescription);
                            bodyDiv.appendChild(cardBody);
                            row.appendChild(bodyDiv);
                            card.appendChild(row);

                            document.getElementById(tag).appendChild(card);
                        }
                    }

                    function parseImageArticlesRows2(result, tag) {
                        document.getElementById(tag).innerHTML = "";
                        const data = result.data;
                        for (var i = 0; i < data.length; i ++) {
                            var title = data[i].title;
                            var pic = data[i].pic;
                            var url = data[i].mobileUrl;
                            var hot = data[i].hot;

                            var card = document.createElement("div");
                            card.className = "card";

                            var row = document.createElement("div");
                            row.className = "row no-gutters";

                            var imgDiv = document.createElement("div");
                            imgDiv.className = "col-md-2 justify-content-center";

                            var img = document.createElement("img");
                            img.src = pic;
                            img.className = "col-md-12";
                            imgDiv.appendChild(img);
                            row.appendChild(imgDiv);
                            
                            var bodyDiv = document.createElement("div");
                            bodyDiv.className = "col-md-10";

                            var cardBody = document.createElement("div");
                            cardBody.className = "card-body";

                            var cardTitle = document.createElement("h5");
                            cardTitle.className = "card-title";

                            var cardLink = document.createElement("a");
                            cardLink.href = url;
                            cardLink.target = "_blank";
                            cardLink.innerText = `#${i + 1}： ${title}`
                            cardTitle.appendChild(cardLink);

                            var cardDescription = document.createElement("div");
                            cardDescription.className = "card-text";
                            cardDescription.innerText = `当前热度：${hot}`;

                            cardBody.appendChild(cardTitle);
                            cardBody.appendChild(cardDescription);
                            bodyDiv.appendChild(cardBody);
                            row.appendChild(bodyDiv);
                            card.appendChild(row);

                            document.getElementById(tag).appendChild(card);
                        }
                    }

                    function autoOpenPlatform(platform) {
                        if (platform === '哔哩哔哩') {
                            document.getElementById('bilibili' + '-tab').click();
                        }
                        if (platform === '百度') {
                            document.getElementById('baidu' + '-tab').click();
                        }
                        if (platform === '百度贴吧') {
                            document.getElementById('tieba' + '-tab').click();
                        }
                        if (platform === '稀土掘金') {
                            document.getElementById('juejin' + '-tab').click();
                        }
                        if (platform === '知乎') {
                            document.getElementById('zhihu' + '-tab').click();
                        }
                        if (platform === 'IT之家') {
                            document.getElementById('ithome' + '-tab').click();
                        }
                        if (platform === '澎湃新闻') {
                            document.getElementById('thepaper' + '-tab').click();
                        }
                        if (platform === '今日头条') {
                            document.getElementById('toutiao' + '-tab').click();
                        }
                        if (platform === '微博热搜') {
                            document.getElementById('weibo' + '-tab').click();
                        }
                        if (platform === '腾讯新闻') {
                            document.getElementById('txnews' + '-tab').click();
                        }
                        return ;
                    }
                    const opened_platform = sessionStorage.getItem('opened_platform');
                    if (opened_platform !== undefined && opened_platform !== null) {
                        autoOpenPlatform(opened_platform);
                    }
                </script>
            </div>
		</div>
	</div>
	<a href="javascript:void(0)" id="totop">🔝</a>
</body>
</html>
